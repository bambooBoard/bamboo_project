<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.backend.itryp">
	<!-- 회원가입 -->
	<insert id="memberInsert" parameterType="map">
		INSERT INTO TB_USER(
		user_id
		,user_pw
		,user_email
		,user_nickname
		,user_name
		,user_phone
		,user_zipcode
		,user_address
		,user_address_detail
		)
		VALUES(
		<if test='USER_ID!= null'>
			,#{USER_ID}
		</if>
		<if test='USER_PW!= null'>
			,#{USER_PW}
		</if>
		<if test='USER_EMAIL!= null'>
			,#{USER_EMAIL}
		</if>
		<if test='USER_NICKNAME!= null'>
			,#{USER_NICKNAME}
		</if>
		<if test='USER_NAME!= null'>
			,#{USER_NAME}
		</if>
		<if test='USER_PHONE!= null'>
			,#{USER_PHONE}
		</if>
		<if test='USER_ZIPCODE!= null'>
			,#{USER_ZIPCODE}
		</if>
		<if test='USER_ADDRESS!= null'>
			,#{USER_ADDRESS}
		</if>
		<if test='USER_ADDRESS_DETAIL!= null'>
			,#{USER_ADDRESS_DETAIL}
		</if>
		)
	</insert>
	
	<!-- 로그인 -->
	<select id = "login" parameterType="map" resultType="string">
	select user_nickname from TB_USER
	WHERE status = 0
		<if test = 'user_id!= null and user_id.length()>0'>
			AND user_id = #{user_id}
		</if>
		<if test = 'user_pw!= null and user_pw.length()>0'>
			AND user_pw = #{user_pw}
		</if>
	</select>
	
	<!-- 회원정보 조회 -->
	<select id = "memberList" parameterType="map" resultType="map">
	select user_id, user_pw, user_email, user_nickname, user_name
		,user_phone, user_zipcode, user_address, user_address_detail
	<where>
	
	</where>
	</select>
</mapper>